(this["webpackJsonplyrics-finder"]=this["webpackJsonplyrics-finder"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(5),o=n.n(c),i=n(2),s=n.n(i),l=n(3),u=n(1),f=n(15);n(12);function h(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useState)(),c=Object(u.a)(n,2),o=c[0],i=c[1],h=Object(r.useState)(null),p=Object(u.a)(h,2),m=p[0],b=p[1],d=Object(r.useState)(""),v=Object(u.a)(d,2),g=v[0],j=v[1],y=Object(r.useState)(!1),E=Object(u.a)(y,2),O=E[0],w=E[1],k=Object(r.useState)([]),x=Object(u.a)(k,2),S=x[0],_=x[1],C=function(e){return e.replace(/\s/,"%20")},I=function(){var e=Object(l.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(t),n="https://api.lyrics.ovh/suggest/".concat(t),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r,a,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[C(t),C(n)],a=r[1],c="https://api.lyrics.ovh/v1/".concat(r[0],"/").concat(a),e.next=4,fetch(c);case 4:return o=e.sent,e.next=7,o.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(e){j("".concat(e.artist.name," - ").concat(e.title_short?e.title_short:e.title)),N(e.artist.name,e.title_short?e.title_short:e.title).then((function(e){var t=e.lyrics,n=e.error;i(t||"Sorry we could not find these lyrics"),n&&console.log("boom error fetching lyrics ->",n),_([])})),e.artist&&b(e.artist)};Object(r.useEffect)((function(){0===g.length&&w(!1)}),[g]);var D="clear-field ".concat(O&&"visible");return a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",null,"Lyrics finder"),a.a.createElement("section",null,a.a.createElement("form",null,a.a.createElement("input",{ref:t,type:"text",name:"searchInput",onChange:function(e){return function(e){var t=e.target.value;j(t),w(!0),t.length>2?I(t).then((function(e){var t=e.error,n=e.data;n&&_(n),t&&console.log("boom error fetching suggestions -> ",t)})):_([])}(e)},value:g}),a.a.createElement("label",{for:"searchInput",className:""!==g&&"focused",onClick:function(){return t.current.focus()}},"Search artist / song"),a.a.createElement("button",{"aria-label":"clear search field",onClick:function(e){return function(e){e.preventDefault(),j(""),_([])}(e)},className:D})),a.a.createElement("ul",{tabIndex:"-1","aria-expanded":!!(null===S||void 0===S?void 0:S.length)>0},null===S||void 0===S?void 0:S.map((function(t,n){return a.a.createElement("li",{ref:e,key:Object(f.a)(),tabIndex:0,onClick:function(e){return B(t)},onKeyDown:function(r){return function(t,n,r){"Enter"===t.key&&B(r),"Tab"===t.key&&n+1===S.length&&e.current.parentNode.firstChild.focus()}(r,n,t)}},t.artist.name," -"," ",t.title_short?t.title_short:t.title)})))),m&&o&&a.a.createElement("img",{alt:"artist poster",src:m.picture.replace("http","https")}),a.a.createElement("pre",null,o))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},6:function(e,t,n){e.exports=n(13)}},[[6,1,2]]]);
//# sourceMappingURL=main.3910cb91.chunk.js.map